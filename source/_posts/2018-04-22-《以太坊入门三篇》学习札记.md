---
title: 《以太坊入门三篇》学习札记
date: 2018-04-22 12:50:42
tags: [区块链,读书笔记]
---

&emsp;&emsp;*《EthFans精选 | 以太坊入门清单》传送门：*https://ethfans.org/posts/1099

&emsp;&emsp;*感谢整理人月亮🌛以及各篇文章作者。好几篇写到非常浅显易懂的地步了，本文为学习札记，理清记录了区块链、比特币，以及以太坊最基本的概念与联系。*

<!--more-->

# 区块链是什么:《科普 | 区块链是什么鬼？》

&emsp;&emsp;http://ethfans.org/toya/articles/wtf-is-the-blockchain

&emsp;&emsp;区块链想要解决的问题是去中心化的建立互信，举个例子：你向朋友转账可以通过银行这一系统，由他在账本上记录了你们两个人账户余额的变化，银行是我们互信的第三方中心。我们公信的银行有些你不能说完全不可能的事件：
- 记录账本数据丢失或者遭到攻击；
- 记录账本数据出错，比如转账$1000记成了$1500；
- 银行贪腐堕落。

&emsp;&emsp;区块链可以让我们自己维护所谓账本而不再需要银行在中间操作。举个例子：想象你给一个人转账，你在网络上大吼一声，我要转$1000给某某某,这个网络里的所有人都掏出一个小本本看你有这么多钱，好的记下来你的转账信息；我们就这样一笔一笔的所有人一起记录，大家写满一张纸（一个区块）之后用统一的方法（hash）来将它封存，再新拿出来一张纸继续记录，以此往复。

&emsp;&emsp;hash函数的引入确保了大家不会记错，我们可以很快速的计算出假设'nihao'的hash值hash('nihao')='9527'，他的结果是确定的以及定长的,但要算出来'9527'的输入是'nihao'是非常困难的。因为hash的特性，我们求每个一整页账本内容的对应值（封条），满足该内容和对应值某种运算后的hash值以三个0开头（某个验证条件）。比如对内容'hello'，假设我们经过多次尝试发现hello+world=begin，而hash('begin')=000666满足条件以三个0开头，那么world就是hello这页内容的封条。

&emsp;&emsp;在这页纸记hello完成的时候，大家都跑去找world，hash特性使得这个过程是需要计算力的，第一个人找到world以后向大家公布，我们来验证hello+world=begin，而hash('begin')=000666满足条件是很轻松的。于是我们记在这张纸上，就完成了本页的封存（一个区块）。现在你发现大家都认可world而你这边的hash结果不对，那你就知道哦你记的肯定是错了不是我们公认的hello。

&emsp;&emsp;为了鼓励大家积极地去计算寻找world，网络给第一个找到他的人准备了奖励，来支付付出的CPU算力和电力（挖矿）。这个奖励可以成为认可货币吗？那论坛币，游戏币，收藏币……？

&emsp;&emsp;最后还一个问题，如果随后我又写了五页纸了跑去改hello，我还把world一起改了怎么办？我搞了个hexo+next=begin？所以我们修正这里的逻辑：我们的计算把之前一张纸的封条也考虑进来，现在要找到比如hello+kitty+000520=000……中的kitty，这下你要改后面的五页你就得全改了，我们始终相信网络中最长的一支是可信的，大家一起计算着block的封条，所以你有改这的功夫，他指不定又增长到多少了，这就是为什么说他不可修改。而现在我们聊的也就从区块变成了区块链了。

&emsp;&emsp;区块链建立在大部分人是诚实的这一前提基础上，如果你伙同了半数以上的算力强行去改一条链上的内容，当然他是会陷落的，但此时不也实质上是一条新的区块链在诞生了吗^_^?两个小注：

- 账本公开所以每个钱包地址的余额也是公开的，但我不知道这是谁的钱包。
- “三个0开头”只是一个例子。hash实际当中的挑战要比这个难得多。常用的hash有MD5,SHA1等，文件校验非常常见。

# 以太坊到底是啥:《科普 | 以太坊到底是啥？》

&emsp;&emsp; http://ethfans.org/posts/what-is-ethereum-17-12-15

&emsp;&emsp;首先小结区块链：区块链就是数据库，每个人都有数据库的副本，无法被修改或删除的数据库（链hash）。

&emsp;&emsp;比特币存储了金融交易记录，而以太坊分布式虚拟机存储并执行着智能合约，他的区块链交易格式包括；Timestamp,Sender,Recipient,Amount,Data。什么时间谁向谁发起多大金额的什么智能合约，于是存在着三种交易：

- 用户以太币转账；human Sender,Recipient然后No Data
- 创建智能合约；Sender,No Recipient然后Data里Creat Smart Contract
- 用户和智能合约之间的以太币转账；Sender,Smart Contract Recipient然后Data里Execute Smart Contract

&emsp;&emsp;智能合约可以简单地理解为确定的规则，以太坊提供了智能合约的编写平台。比如我和你打赌100块明天会不会下雨，我写好这份合约下雨你赢不下我赢，我们再各自将100块转给智能合约（这样就公布到了全网，将这一事件写入“账本”），第二天按事实情况自动的将这一合约结果执行。从此例可以感受到智能合约带给区块链更多的选项，使以太坊可以做更多的事而不仅仅是发币。

&emsp;&emsp;使用智能合约的用户必须支付一定费用（Gas）去执行该合约。该费用支付给实际使用内存、硬盘、计算和电力执行这一智能合约的节点。当合约执行完成之时，或是**达到Gas限制**之时，都会停止执行该合约。

&emsp;&emsp;以太坊的智能合约网络中的每个节点都会去执行，这台去中心化的分布式计算机运行会很缓慢，但只有每个节点都出故障之时，他才会出故障~

# 智能合约·概念及应用:《智能合约》

&emsp;&emsp;http://ethfans.org/wikis/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6

&emsp;&emsp;智能合约是 1990s 年代由尼克萨博提出的理念，一直缺少可信的执行环境。比特币使人们认识区块链可以为智能合约提供可信的环境，以太坊努力的目标就是复活智能合约。

&emsp;&emsp;简单地讲，以太坊 = 区块链 + 智能合约。与比特币相比，以太坊支持更加强大的脚本语言，允许开发者在上面开发任意应用，实现任意智能合约。

&emsp;&emsp;几个可以做金融智能合约的例子：
- 差价合约
- 代币系统
- 储蓄钱包
- 作物保险
- 多重签名智能合约

{% asset_img 以太坊.png %}